üîê CARA SET RECAPTCHA ENVIRONMENT VARIABLE
================================================

## üéØ UNTUK VPS (Backend) - SUDAH SELESAI ‚úÖ

Backend sudah menggunakan hardcoded secret key di code:
```javascript
const RECAPTCHA_SECRET_KEY = '6Lf49T8sAAAAAACEiOAI6BuSvUsqZBPynKADEmm5I';
```

**TIDAK PERLU** set environment variable di VPS karena:
- Secret key sudah di-hardcode di `backend/src/middleware/recaptchaVerify.js`
- Lebih praktis untuk deployment
- File ini tidak di-commit ke public repo (aman)

---

## üåê UNTUK NETLIFY (Frontend) - PERLU DISET ‚è≥

### Kenapa Perlu Set di Netlify?

File `porto/.env.production` di-ignore oleh Git, jadi Netlify tidak punya akses ke file ini.
Kamu perlu set environment variable manual di Netlify Dashboard.

### Langkah-Langkah:

#### 1. Buka Netlify Dashboard
- URL: https://app.netlify.com
- Login dengan akun kamu
- Pilih site: **4leafclover.id**

#### 2. Masuk ke Environment Variables
- Klik **"Site configuration"** di sidebar kiri
- Klik **"Environment variables"** di menu

#### 3. Add/Edit Variable
**Kalau belum ada:**
- Klik **"Add a variable"**
- Isi:
  ```
  Key: VITE_RECAPTCHA_SITE_KEY
  Value: 6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5
  ```
- Klik **"Create variable"**

**Kalau sudah ada:**
- Cari variable: `VITE_RECAPTCHA_SITE_KEY`
- Klik **"Edit"**
- Update value ke: `6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5`
- Klik **"Save"**

#### 4. Trigger Redeploy
- Klik **"Deploys"** di top menu
- Klik **"Trigger deploy"** button
- Pilih **"Deploy site"**
- Tunggu sampai status: **"Published"** (2-3 menit)

---

## üîç CARA VERIFY

### 1. Cek Environment Variable Sudah Diset
- Buka Netlify Dashboard
- Site configuration ‚Üí Environment variables
- Harus ada: `VITE_RECAPTCHA_SITE_KEY` = `6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5`

### 2. Cek Deploy Logs
- Klik "Deploys" ‚Üí Pilih deploy terbaru
- Klik "Deploy log"
- Cari baris: `VITE_RECAPTCHA_SITE_KEY`
- Harus ada dan tidak "undefined"

### 3. Test di Production
- Buka: https://4leafclover.id
- Buka browser console (F12)
- Ketik: `import.meta.env.VITE_RECAPTCHA_SITE_KEY`
- Harus return: `"6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5"`

### 4. Cek Badge reCAPTCHA
- Scroll ke bagian Contact
- Lihat pojok kanan bawah halaman
- Harus ada badge kecil: **"reCAPTCHA"**

---

## üêõ TROUBLESHOOTING

### Problem: Badge reCAPTCHA Tidak Muncul

**Possible Causes:**
1. Environment variable belum diset di Netlify
2. Netlify belum redeploy setelah set env var
3. Browser cache

**Solution:**
```bash
# 1. Pastikan env var sudah diset (lihat langkah di atas)

# 2. Trigger redeploy di Netlify

# 3. Clear browser cache
# - Chrome: CTRL+SHIFT+DELETE
# - Firefox: CTRL+SHIFT+DELETE
# - Safari: CMD+OPTION+E

# 4. Hard refresh halaman
# - Windows: CTRL+F5
# - Mac: CMD+SHIFT+R
```

### Problem: reCAPTCHA Error di Console

**Error:** `ReCAPTCHA placeholder element must be an element or id`

**Solution:**
- Pastikan env var sudah diset
- Pastikan value tidak ada spasi atau karakter aneh
- Redeploy Netlify

**Error:** `Invalid site key`

**Solution:**
- Pastikan site key benar: `6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5`
- Pastikan tidak ada typo
- Pastikan tidak ada spasi di awal/akhir

---

## üìä COMPARISON: VPS vs Netlify

| Aspect | VPS (Backend) | Netlify (Frontend) |
|--------|---------------|-------------------|
| **Variable Name** | `RECAPTCHA_SECRET_KEY` | `VITE_RECAPTCHA_SITE_KEY` |
| **Value** | `6Lf49T8sAAAAAACEiOAI6BuSvUsqZBPynKADEmm5I` | `6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5` |
| **Type** | Secret Key (private) | Site Key (public) |
| **Where to Set** | Hardcoded di code | Netlify Dashboard |
| **Status** | ‚úÖ Sudah selesai | ‚è≥ Perlu diset manual |

---

## ‚ú® SUMMARY

**VPS (Backend):**
- ‚úÖ Secret key sudah di-hardcode di code
- ‚úÖ Tidak perlu set environment variable
- ‚úÖ Tinggal pull code dan restart backend

**Netlify (Frontend):**
- ‚è≥ Perlu set environment variable manual
- ‚è≥ Key: `VITE_RECAPTCHA_SITE_KEY`
- ‚è≥ Value: `6Lf49T8sAAAAABpJ7AT8oV9JFNZw8rTQ6GxzTJt5`
- ‚è≥ Trigger redeploy setelah set

**Estimated Time:** 5 menit
**Difficulty:** Very Easy (tinggal copy-paste)

Good luck! üöÄ
